{% load static %}
<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <title>–ê—É–¥–∏—Ç–æ—Ä–∏—è {{ room }}</title>

    <!-- –°–¢–ò–õ–¨ –ù–ï –ú–ï–ù–Ø–ï–ú -->
    <link rel="stylesheet" href="{% static 'css/mobile.css' %}">
</head>
<body>

<div class="container">

    <!-- Header -->
    <div class="header">
        <div class="room-number">–ê—É–¥–∏—Ç–æ—Ä–∏—è {{ room }}</div>
        <div class="building-info">
            –ö–æ—Ä–ø—É—Å {{ corp }}, {{ floor }}-–π —ç—Ç–∞–∂
        </div>
    </div>

    <!-- Navigation -->
    <div class="nav-tabs">
        <button class="tab-btn active" data-tab="schedule">üìÖ –†–∞—Å–ø–∏—Å–∞–Ω–∏–µ</button>
        <button class="tab-btn" data-tab="map">üó∫Ô∏è –ö–∞—Ä—Ç–∞</button>
    </div>
    <!-- Schedule Section -->
    <div id="schedule" class="content-section active">

        <!-- –û–ë–©–ï–ï –†–ê–°–ü–ò–°–ê–ù–ò–ï (–ó–ê–ì–õ–£–®–ö–ê) -->
        <div class="schedule-card">
            <div class="time">10:00 - 11:20</div>
            <div class="subject">–ü—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏–µ</div>
            <div class="teacher">–ü—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª—å: –ò–≤–∞–Ω–æ–≤ –ò.–ò.</div>
            <div class="group">–ì—Ä—É–ø–ø–∞: –ü–ú–ò-2-23</div>
            <div class="lesson-type lab">–õ–∞–±–æ—Ä–∞—Ç–æ—Ä–Ω–∞—è</div>
        </div>

        <div class="schedule-card">
            <div class="time">11:30 - 12:50</div>
            <div class="subject">–ë–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö</div>
            <div class="teacher">–ü—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª—å: –ü–µ—Ç—Ä–æ–≤–∞ –ê.–°.</div>
            <div class="group">–ì—Ä—É–ø–ø–∞: –ü–ú–ò-1-23</div>
            <div class="lesson-type practice">–ü—Ä–∞–∫—Ç–∏–∫–∞</div>
        </div>

        <div class="schedule-card current">
            <div class="time">
                13:00 - 14:20
                <span class="current-label">–°–µ–π—á–∞—Å</span>
            </div>

            <button class="button">–û—Ç–º–µ—Ç–∏—Ç—å—Å—è</button>

            <div class="subject">–ë–ñ–î –∏ —ç–∫–æ–ª–æ–≥–∏—è</div>
            <div class="teacher">
                –ü—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª—å: –ñ–∞–ø–∞–∫–æ–≤–∞ –ë—É—Ä—É–ª –°–∞–±—ã—Ä–±–µ–∫–æ–≤–Ω–∞
            </div>
            <div class="group">–ì—Ä—É–ø–ø–∞: –ü–ú–ò-1-23</div>
            <div class="lesson-type lecture">–õ–µ–∫—Ü–∏—è</div>
        </div>

    </div>

    <!-- Map Section -->
    <div id="map" class="content-section">

        <!-- –ö–ê–†–¢–ê -->
         <div class="floors-panel two-rows">
            <button class="floor-btn" data-floor="1">1 —ç—Ç.</button>
            <button class="floor-btn" data-floor="2">2 —ç—Ç.</button>
            <button class="floor-btn" data-floor="3">3 —ç—Ç.</button>

            <button class="floor-btn" data-floor="4">4 —ç—Ç.</button>
            <button class="floor-btn" data-floor="5">5 —ç—Ç.</button>
            <button class="floor-btn" data-floor="6">6 —ç—Ç.</button>
        </div>
        <div class="map-container" style="padding: 0; overflow: hidden;">
            <div id="map-wrapper"
                data-room="{{ room }}"
                data-floor="{{ floor }}"
                style="width:100%; height:500px; overflow:hidden; position:relative;">
            </div>
        </div>
    </div>

</div>

<!-- JS -->
<script src="{% static 'js/map.js' %}"></script>

<script>
document.addEventListener("DOMContentLoaded", () => {

    const tabs = document.querySelectorAll(".tab-btn");
    const sections = document.querySelectorAll(".content-section");

    tabs.forEach(btn => {
        btn.addEventListener("click", () => {

            // —É–±–∏—Ä–∞–µ–º active —É –≤—Å–µ—Ö –∫–Ω–æ–ø–æ–∫
            tabs.forEach(b => b.classList.remove("active"));

            // —Å–∫—Ä—ã–≤–∞–µ–º –≤—Å–µ —Å–µ–∫—Ü–∏–∏
            sections.forEach(s => s.classList.remove("active"));

            // –∞–∫—Ç–∏–≤–∏—Ä—É–µ–º –Ω—É–∂–Ω—É—é –∫–Ω–æ–ø–∫—É
            btn.classList.add("active");

            // –ø–æ–∫–∞–∑—ã–≤–∞–µ–º –Ω—É–∂–Ω—ã–π –±–ª–æ–∫
            const target = btn.dataset.tab;
            document.getElementById(target).classList.add("active");
        });
    });

});
</script>
</body>
</html>
